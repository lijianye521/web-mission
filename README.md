# Web小任务开发日志

> 本次的前端小任务感觉是导师为让学员回顾之前开发页面的流程和必要的页面开发本领而准备的。

## 1.效果展示

代码地址：https://github.com/lijianye521/web-mission

演示地址：https://www.lijianye.work/

代码仓库地址：

![image-20240704113904684](./assets/image-20240704113904684.png)

## 2.使用环境

| 环境    | 版本    |
| ------- | ------- |
| react   | 18.3.1  |
| node    | 20.15.0 |
| webpack | 5.64.4  |

## 3.事前分析

![image-20240703150603753](./assets/image-20240703150603753.png)

本次小任务主要实现左侧栏目树菜单，右侧上方的表格及下方的图形,可以使用grid栅格

![image-20240703152622793](./assets/image-20240703152622793.png)

然后再在三个区域内放三个组件就行了

## 4.学习时间

2024年7月3日 15：14 - 2024年 7月 3日 22：35

2024年7月4日 09：00 - 2024年 7月 4日 12：35

## 5.数据模拟

股市开始时间是1990年12月19日  我们从1991-01这个时间开始编，这样我们就有了402条数据 。

用js模拟生成 存储在data.json里，本人简化了jwt使用token 请求权限获取数据库的过程，直接把这个data.json文件放到components目录下。

下面是这些json数据的示例

```json
 {
    "序号": 401,
    "日期": "1991-02",
    "上市公司总数": "5096",
    "上市证劵总数": "35170",
    "上市股票总数": "5120",
    "上市A股总数": "4964",
    "上市B股总数": "156",
    "总股本（亿股）": "68918.034",
    "总市值（亿元）": "3393585.413",
    "流通股本（亿股）": "52997.020",
    "流通市值（亿元）": "664800.436",
    "投资者开户总数（万户）": "2727"
  },
  {
    "序号": 402,
    "日期": "1991-01",
    "上市公司总数": "4752",
    "上市证劵总数": "32313",
    "上市股票总数": "4791",
    "上市A股总数": "4103",
    "上市B股总数": "688",
    "总股本（亿股）": "73425.470",
    "总市值（亿元）": "1202062.821",
    "流通股本（亿股）": "50610.356",
    "流通市值（亿元）": "576874.416",
    "投资者开户总数（万户）": "9943"
  }
]
```



## 6.三个组件的设计

### 6.1菜单项

稍微用ant design升级了一下，让ui好看了一点点，选中二级菜单时，一级菜单也会跟着变成蔚蓝色

![image-20240703163532074](./assets/image-20240703163532074.png)

### 6.2表格项

#### 遇到的困难及解决方案

表格项这部分卡了我1个多小时，原因是从日历中获取的数据对象为datejs ， 而且我进行数据筛选的时候使用的是momentjs ，两个对象没法比较 一直不对 最后我将datejs的对象更改为momentjs，但是混用导致datepicker出现一些问题，最后找到解决方法是统一使用datejs。

可以选择日期范围，可以让日期倒序排序。

![image-20240703232715813](./assets/image-20240703232715813.png)

实现了一些基本功能 日期选择，鼠标悬停背景色变化，

之后实现上面这一串功能

![image-20240703232903511](./assets/image-20240703232903511.png)

因为不知道具体的功能需求 ，所以我只是模仿书写了ui页面，于是我让这九个功能全部绑定了导出为excel的功能函数。

### 6.3 图项

![image-20240704113904684](./assets/image-20240704113904684.png)

**可以调色，可以改变坐标轴范围 ，可以改变图表类型（折线图，柱状图，散点图），可以选择指标，可以下载，可以复制，可以展开扩大至右边半屏**

# 感悟

经过本次小任务，本人重新温习了react开发css布局等内容，并学习使用了antdesign（以前一直用的是elementUI），遇到并解决了dayjs对象与momentjs对象不匹配无法对比的问题，但是针对一些线上表格操作的书写我还有点不太熟悉，后续我会根据网上的一些web-excel的书写来补足自己。